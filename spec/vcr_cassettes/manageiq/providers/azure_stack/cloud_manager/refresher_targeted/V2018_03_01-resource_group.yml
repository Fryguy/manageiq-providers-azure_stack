---
http_interactions:
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourcegroups/demo-resource-group?api-version=2018-02-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_resources/0.17.2 Profiles/V2018_03_01/Resources/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - 8c7b46c6-7bf4-4ded-b934-13a4c153d0b7
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14987'
      X-Ms-Request-Id:
      - b0f2fd7e-c63a-4a89-8c4b-864b3ec19ff6
      X-Ms-Correlation-Request-Id:
      - b0f2fd7e-c63a-4a89-8c4b-864b3ec19ff6
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054038Z:b0f2fd7e-c63a-4a89-8c4b-864b3ec19ff6
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:38 GMT
      Content-Length:
      - '191'
    body:
      encoding: UTF-8
      string: '{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group","name":"demo-resource-group","location":"westus","properties":{"provisioningState":"Succeeded"}}'
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:38 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/resources?api-version=2018-02-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_resources/0.17.2 Profiles/V2018_03_01/Resources/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - 4b3c424a-76d6-45c3-8f04-4ad58d343ce1
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14986'
      X-Ms-Request-Id:
      - 5218568a-1e8f-4b2e-bab8-b29948632b36
      X-Ms-Correlation-Request-Id:
      - 5218568a-1e8f-4b2e-bab8-b29948632b36
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054038Z:5218568a-1e8f-4b2e-bab8-b29948632b36
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:38 GMT
      Content-Length:
      - '1219'
    body:
      encoding: UTF-8
      string: '{"value":[{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Compute/virtualMachines/demoVm","name":"demoVm","type":"Microsoft.Compute/virtualMachines","location":"westus"},{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0","name":"demoNic0","type":"Microsoft.Network/networkInterfaces","location":"westus"},{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup","name":"demoSecurityGroup","type":"Microsoft.Network/networkSecurityGroups","location":"westus"},{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demoNetwork","name":"demoNetwork","type":"Microsoft.Network/virtualNetworks","location":"westus"},{"id":"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Storage/storageaccounts/demostorageaccount","name":"demostorageaccount","type":"Microsoft.Storage/storageaccounts","location":"westus"}]}'
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:38 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Compute/virtualMachines/demovm?api-version=2017-03-30
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_compute/0.18.3 Profiles/V2018_03_01/Compute/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - '096630f5-9455-48f8-87e9-e0432c854726'
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Length:
      - '1537'
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Ms-Served-By:
      - 00000000-0000-0000-0000-000000000000_0
      X-Ms-Correlation-Request-Id:
      - 81144618-2d9b-41fe-ba41-f26479601dc2
      Server:
      - Microsoft-HTTPAPI/2.0
      Www-Authenticate:
      - oYG3MIG0oAMKAQChCwYJKoZIgvcSAQICooGfBIGcYIGZBgkqhkiG9xIBAgICAG+BiTCBhqADAgEFoQMCAQ+iejB4oAMCARKicQRvIyb1Pxs1C85sp2kHZ/xDA39dJxWHgVbc/ScoGx8UdASPw1VY2GSWH968o55dshuVuoDFxA3qKwtxe47aIDjQpY2cLaQH/DFrp6edx9sz13Z0gsAvmNSgPcbgAXEcKctlx1oLcVLz2boGNnDpLIk7
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14985'
      X-Ms-Request-Id:
      - 81144618-2d9b-41fe-ba41-f26479601dc2
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054039Z:81144618-2d9b-41fe-ba41-f26479601dc2
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:39 GMT
    body:
      encoding: UTF-8
      string: "{\r\n  \"properties\": {\r\n    \"vmId\": \"a883712d-c83b-46bf-996a-e1fd9249db4b\",\r\n
        \   \"hardwareProfile\": {\r\n      \"vmSize\": \"Standard_A1\"\r\n    },\r\n
        \   \"storageProfile\": {\r\n      \"imageReference\": {\r\n        \"publisher\":
        \"Canonical\",\r\n        \"offer\": \"UbuntuServer\",\r\n        \"sku\":
        \"16.04-LTS\",\r\n        \"version\": \"latest\"\r\n      },\r\n      \"osDisk\":
        {\r\n        \"osType\": \"Linux\",\r\n        \"name\": \"osdisk\",\r\n        \"createOption\":
        \"FromImage\",\r\n        \"vhd\": {\r\n          \"uri\": \"https://demostorageaccount.blob.westus.stackpoc.com/vhds/osdisk.vhd\"\r\n
        \       },\r\n        \"caching\": \"ReadWrite\",\r\n        \"diskSizeGB\":
        30\r\n      },\r\n      \"dataDisks\": []\r\n    },\r\n    \"osProfile\":
        {\r\n      \"computerName\": \"demoVm\",\r\n      \"adminUsername\": \"demoUsername\",\r\n
        \     \"linuxConfiguration\": {\r\n        \"disablePasswordAuthentication\":
        false\r\n      },\r\n      \"secrets\": []\r\n    },\r\n    \"networkProfile\":
        {\"networkInterfaces\":[{\"id\":\"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0\"}]},\r\n
        \   \"diagnosticsProfile\": {\r\n      \"bootDiagnostics\": {\r\n        \"enabled\":
        true,\r\n        \"storageUri\": \"https://demostorageaccount.blob.westus.stackpoc.com/\"\r\n
        \     }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\r\n  },\r\n
        \ \"type\": \"Microsoft.Compute/virtualMachines\",\r\n  \"location\": \"westus\",\r\n
        \ \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Compute/virtualMachines/demoVm\",\r\n
        \ \"name\": \"demoVm\"\r\n}"
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:39 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Compute/virtualMachines/demovm/instanceView?api-version=2017-03-30
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_compute/0.18.3 Profiles/V2018_03_01/Compute/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - 56d7334a-2cbd-4340-98cf-0f22f9d66385
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Length:
      - '1497'
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Ms-Served-By:
      - 00000000-0000-0000-0000-000000000000_0
      X-Ms-Correlation-Request-Id:
      - 17e2253c-618b-4605-a358-2b7dab299918
      Server:
      - Microsoft-HTTPAPI/2.0
      Www-Authenticate:
      - oYG3MIG0oAMKAQChCwYJKoZIgvcSAQICooGfBIGcYIGZBgkqhkiG9xIBAgICAG+BiTCBhqADAgEFoQMCAQ+iejB4oAMCARKicQRvDzRoKBOwtgRJ9D/5pdHAfuTTaH0sY4Xl4UfFvebZqZhIhiuS4ERKqAIGBoeEguwAqZHuIbYC6Z7MAhjMGItnBbUfAZjJbdH10anp4L8krPC6i73V0AQNwkSqK5OyLbJO8nJJahUxsopNTgKBArmk
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14984'
      X-Ms-Request-Id:
      - 17e2253c-618b-4605-a358-2b7dab299918
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054040Z:17e2253c-618b-4605-a358-2b7dab299918
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:40 GMT
    body:
      encoding: UTF-8
      string: "{\r\n  \"rdpThumbPrint\": \"SHA256XHAe/JzGhoNXWT09f3959tnBCeWXJsEacg3ezfBD/M8\",\r\n
        \ \"vmAgent\": {\r\n    \"vmAgentVersion\": \"2.2.38.0\",\r\n    \"statuses\":
        [\r\n      {\r\n        \"code\": \"ProvisioningState/Succeeded\",\r\n        \"level\":
        \"Info\",\r\n        \"displayStatus\": \"Ready\",\r\n        \"message\":
        \"Guest Agent is running\",\r\n        \"time\": \"2019-10-07T05:40:40+00:00\"\r\n
        \     }\r\n    ],\r\n    \"extensionHandlers\": []\r\n  },\r\n  \"disks\":
        [\r\n    {\r\n      \"name\": \"osdisk\",\r\n      \"statuses\": [\r\n        {\r\n
        \         \"code\": \"ProvisioningState/Succeeded\",\r\n          \"level\":
        \"Info\",\r\n          \"displayStatus\": \"Provisioning Succeeded\",\r\n
        \         \"time\": \"2019-10-06T18:24:30.678712+00:00\"\r\n        }\r\n
        \     ]\r\n    }\r\n  ],\r\n  \"bootDiagnostics\": {\r\n    \"consoleScreenshotBlobUri\":
        \"https://demostorageaccount.blob.westus.stackpoc.com/bootdiagnostics-demovm-a883712d-c83b-46bf-996a-e1fd9249db4b/demoVm.a883712d-c83b-46bf-996a-e1fd9249db4b.screenshot.bmp\",\r\n
        \   \"serialConsoleLogBlobUri\": \"https://demostorageaccount.blob.westus.stackpoc.com/bootdiagnostics-demovm-a883712d-c83b-46bf-996a-e1fd9249db4b/demoVm.a883712d-c83b-46bf-996a-e1fd9249db4b.serialconsole.log\"\r\n
        \ },\r\n  \"statuses\": [\r\n    {\r\n      \"code\": \"ProvisioningState/Succeeded/osProvisioningComplete\",\r\n
        \     \"level\": \"Info\",\r\n      \"displayStatus\": \"OS provisioning complete\",\r\n
        \     \"time\": \"2019-10-06T18:29:22.6892294+00:00\"\r\n    },\r\n    {\r\n
        \     \"code\": \"PowerState/running\",\r\n      \"level\": \"Info\",\r\n
        \     \"displayStatus\": \"VM running\"\r\n    }\r\n  ]\r\n}"
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:40 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demonetwork?api-version=2017-10-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_network/0.18.2 Profiles/V2018_03_01/Network/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - 818b59c2-daba-492c-b40b-cd3ed9b9bfac
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Length:
      - '1633'
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Etag:
      - W/"a63b2c13-7037-447f-bdb3-f76125960d7c"
      X-Ms-Correlation-Request-Id:
      - 7d0e3af1-6563-47ac-a316-54a672670646
      X-Ms-Request-Id:
      - 87e40424-f763-4f24-a7ee-b5df41fc7ed4
      Server:
      - Microsoft-HTTPAPI/2.0
      Www-Authenticate:
      - oYG3MIG0oAMKAQChCwYJKoZIgvcSAQICooGfBIGcYIGZBgkqhkiG9xIBAgICAG+BiTCBhqADAgEFoQMCAQ+iejB4oAMCARKicQRvXcsu9DdJlkhTZRkWpNwkssEiEfZp3c3e8RnpMxadlFGUARU12T3iejnu5EKlltWPXgXSC2LEF4k1CalVwWDcDBzDxDMKu7YkxwSZjyKoulCcA/8Z9ptQe6XxxDgASNv9y3Ma1r9YeqgeWMLDemGQ
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14983'
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054041Z:7d0e3af1-6563-47ac-a316-54a672670646
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:40 GMT
    body:
      encoding: UTF-8
      string: "{\r\n  \"name\": \"demoNetwork\",\r\n  \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demoNetwork\",\r\n
        \ \"etag\": \"W/\\\"a63b2c13-7037-447f-bdb3-f76125960d7c\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"22e09ae9-5328-49ea-94ed-8b6a0542619e\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/24\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"demoSubnet\",\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demoNetwork/subnets/demoSubnet\",\r\n
        \       \"etag\": \"W/\\\"a63b2c13-7037-447f-bdb3-f76125960d7c\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"networkSecurityGroup\":
        {\r\n            \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup\"\r\n
        \         },\r\n          \"ipConfigurations\": [\r\n            {\r\n              \"id\":
        \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0/ipConfigurations/ipconfig1\"\r\n
        \           }\r\n          ]\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false,\r\n    \"enableVmProtection\": false\r\n  }\r\n}"
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:41 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demonic0?api-version=2017-10-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_network/0.18.2 Profiles/V2018_03_01/Network/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - 75429f3f-15b9-44e6-89a9-3eaeaacd08c6
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Length:
      - '2017'
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Etag:
      - W/"745dab4c-00af-4705-8a96-8db9d33bc734"
      X-Ms-Correlation-Request-Id:
      - 99b509b6-3c99-4d18-8930-6ee2ec4d8ee5
      X-Ms-Request-Id:
      - 19a0f400-b22d-46d2-b0c9-dee5ed0a1afc
      Server:
      - Microsoft-HTTPAPI/2.0
      Www-Authenticate:
      - oYG3MIG0oAMKAQChCwYJKoZIgvcSAQICooGfBIGcYIGZBgkqhkiG9xIBAgICAG+BiTCBhqADAgEFoQMCAQ+iejB4oAMCARKicQRvMhV8BG01Kev6ejRKoWOPSKvHs5wf2eaolIiHZXawXp2o/V0PpuOR0Du4jkt6ciTNAYZPs4Nos/1fu5YBMHyE/iTdykxWOWu4aC2t/OVItozUjKeExw47ut0Ekl0ICd3vVMqPGDqQYxa3f86mmCGo
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14982'
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054042Z:99b509b6-3c99-4d18-8930-6ee2ec4d8ee5
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:42 GMT
    body:
      encoding: UTF-8
      string: "{\r\n  \"name\": \"demoNic0\",\r\n  \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0\",\r\n
        \ \"etag\": \"W/\\\"745dab4c-00af-4705-8a96-8db9d33bc734\\\"\",\r\n  \"location\":
        \"westus\",\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"resourceGuid\": \"c36fb7fd-8853-4c07-aff0-6161a481206c\",\r\n    \"ipConfigurations\":
        [\r\n      {\r\n        \"name\": \"ipconfig1\",\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0/ipConfigurations/ipconfig1\",\r\n
        \       \"etag\": \"W/\\\"745dab4c-00af-4705-8a96-8db9d33bc734\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkInterfaces/ipConfigurations\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"privateIPAddress\": \"10.0.0.4\",\r\n          \"privateIPAllocationMethod\":
        \"Dynamic\",\r\n          \"subnet\": {\r\n            \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demoNetwork/subnets/demoSubnet\"\r\n
        \         },\r\n          \"primary\": true,\r\n          \"privateIPAddressVersion\":
        \"IPv4\"\r\n        }\r\n      }\r\n    ],\r\n    \"dnsSettings\": {\r\n      \"dnsServers\":
        [],\r\n      \"appliedDnsServers\": [],\r\n      \"internalDomainNameSuffix\":
        \"3gnoairikpvetfhnrnvakqtbtg.a--x.internal.cloudapp.net\"\r\n    },\r\n    \"macAddress\":
        \"001DD8B700FC\",\r\n    \"enableAcceleratedNetworking\": false,\r\n    \"enableIPForwarding\":
        false,\r\n    \"networkSecurityGroup\": {\r\n      \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup\"\r\n
        \   },\r\n    \"primary\": true,\r\n    \"virtualMachine\": {\r\n      \"id\":
        \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Compute/virtualMachines/demoVm\"\r\n
        \   }\r\n  },\r\n  \"type\": \"Microsoft.Network/networkInterfaces\"\r\n}"
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:42 GMT
- request:
    method: get
    uri: https://AZURE_STACK_HOST/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demosecuritygroup?api-version=2017-10-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Ruby/2.5.6 (x86_64-linux) ms_rest/0.7.4 ms_rest_azure/0.11.0 Azure-SDK-For-Ruby
        azure_mgmt_network/0.18.2 Profiles/V2018_03_01/Network/Mgmt
      Content-Type:
      - application/json; charset=utf-8
      Accept:
      - application/json
      Accept-Language:
      - en-US
      X-Ms-Client-Request-Id:
      - fa05b2b7-9058-478b-a3ed-695ba1ac06c7
      Authorization:
      - Bearer AZURE_STACK_TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Length:
      - '8017'
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Etag:
      - W/"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4"
      X-Ms-Correlation-Request-Id:
      - ed9967ba-139b-4727-8fb1-2363cbfe9911
      X-Ms-Request-Id:
      - 52533a84-27b9-422a-9200-efce4a84f765
      Server:
      - Microsoft-HTTPAPI/2.0
      Www-Authenticate:
      - oYG3MIG0oAMKAQChCwYJKoZIgvcSAQICooGfBIGcYIGZBgkqhkiG9xIBAgICAG+BiTCBhqADAgEFoQMCAQ+iejB4oAMCARKicQRviz/zN8e9kadbDa5Tt+9DitRutHa+hDKlzHEiP0cAQ3gqopCF/n+LsBEBVJ++iRdpya/iexDogF5oSob8YCV7Nmf5T/oL6vOnTik13QgZXJNz64RA1jNqho86D+hZINRhB2MlUe1DDV8NzOUtDrjM
      X-Ms-Ratelimit-Remaining-Subscription-Reads:
      - '14981'
      X-Ms-Routing-Request-Id:
      - WESTUS:20191007T054043Z:ed9967ba-139b-4727-8fb1-2363cbfe9911
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Mon, 07 Oct 2019 05:40:42 GMT
    body:
      encoding: UTF-8
      string: "{\r\n  \"name\": \"demoSecurityGroup\",\r\n  \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup\",\r\n
        \ \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n  \"type\":
        \"Microsoft.Network/networkSecurityGroups\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"89cce752-0d4e-486a-b7b5-dfe699a6e084\",\r\n    \"securityRules\": [\r\n
        \     {\r\n        \"name\": \"ssh\",\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/securityRules/ssh\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/securityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Allow RDP\",\r\n          \"protocol\": \"Tcp\",\r\n
        \         \"sourcePortRange\": \"*\",\r\n          \"destinationPortRange\":
        \"22\",\r\n          \"sourceAddressPrefix\": \"*\",\r\n          \"destinationAddressPrefix\":
        \"*\",\r\n          \"access\": \"Allow\",\r\n          \"priority\": 200,\r\n
        \         \"direction\": \"Inbound\",\r\n          \"sourcePortRanges\": [],\r\n
        \         \"destinationPortRanges\": [],\r\n          \"sourceAddressPrefixes\":
        [],\r\n          \"destinationAddressPrefixes\": []\r\n        }\r\n      }\r\n
        \   ],\r\n    \"defaultSecurityRules\": [\r\n      {\r\n        \"name\":
        \"AllowVnetInBound\",\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/AllowVnetInBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Allow inbound traffic from all VMs in VNET\",\r\n
        \         \"protocol\": \"*\",\r\n          \"sourcePortRange\": \"*\",\r\n
        \         \"destinationPortRange\": \"*\",\r\n          \"sourceAddressPrefix\":
        \"VirtualNetwork\",\r\n          \"destinationAddressPrefix\": \"VirtualNetwork\",\r\n
        \         \"access\": \"Allow\",\r\n          \"priority\": 65000,\r\n          \"direction\":
        \"Inbound\",\r\n          \"sourcePortRanges\": [],\r\n          \"destinationPortRanges\":
        [],\r\n          \"sourceAddressPrefixes\": [],\r\n          \"destinationAddressPrefixes\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"AllowAzureLoadBalancerInBound\",\r\n
        \       \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/AllowAzureLoadBalancerInBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Allow inbound traffic from azure load balancer\",\r\n
        \         \"protocol\": \"*\",\r\n          \"sourcePortRange\": \"*\",\r\n
        \         \"destinationPortRange\": \"*\",\r\n          \"sourceAddressPrefix\":
        \"AzureLoadBalancer\",\r\n          \"destinationAddressPrefix\": \"*\",\r\n
        \         \"access\": \"Allow\",\r\n          \"priority\": 65001,\r\n          \"direction\":
        \"Inbound\",\r\n          \"sourcePortRanges\": [],\r\n          \"destinationPortRanges\":
        [],\r\n          \"sourceAddressPrefixes\": [],\r\n          \"destinationAddressPrefixes\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"DenyAllInBound\",\r\n
        \       \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/DenyAllInBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Deny all inbound traffic\",\r\n          \"protocol\":
        \"*\",\r\n          \"sourcePortRange\": \"*\",\r\n          \"destinationPortRange\":
        \"*\",\r\n          \"sourceAddressPrefix\": \"*\",\r\n          \"destinationAddressPrefix\":
        \"*\",\r\n          \"access\": \"Deny\",\r\n          \"priority\": 65500,\r\n
        \         \"direction\": \"Inbound\",\r\n          \"sourcePortRanges\": [],\r\n
        \         \"destinationPortRanges\": [],\r\n          \"sourceAddressPrefixes\":
        [],\r\n          \"destinationAddressPrefixes\": []\r\n        }\r\n      },\r\n
        \     {\r\n        \"name\": \"AllowVnetOutBound\",\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/AllowVnetOutBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Allow outbound traffic from all VMs to all VMs
        in VNET\",\r\n          \"protocol\": \"*\",\r\n          \"sourcePortRange\":
        \"*\",\r\n          \"destinationPortRange\": \"*\",\r\n          \"sourceAddressPrefix\":
        \"VirtualNetwork\",\r\n          \"destinationAddressPrefix\": \"VirtualNetwork\",\r\n
        \         \"access\": \"Allow\",\r\n          \"priority\": 65000,\r\n          \"direction\":
        \"Outbound\",\r\n          \"sourcePortRanges\": [],\r\n          \"destinationPortRanges\":
        [],\r\n          \"sourceAddressPrefixes\": [],\r\n          \"destinationAddressPrefixes\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"AllowInternetOutBound\",\r\n
        \       \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/AllowInternetOutBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Allow outbound traffic from all VMs to Internet\",\r\n
        \         \"protocol\": \"*\",\r\n          \"sourcePortRange\": \"*\",\r\n
        \         \"destinationPortRange\": \"*\",\r\n          \"sourceAddressPrefix\":
        \"*\",\r\n          \"destinationAddressPrefix\": \"Internet\",\r\n          \"access\":
        \"Allow\",\r\n          \"priority\": 65001,\r\n          \"direction\": \"Outbound\",\r\n
        \         \"sourcePortRanges\": [],\r\n          \"destinationPortRanges\":
        [],\r\n          \"sourceAddressPrefixes\": [],\r\n          \"destinationAddressPrefixes\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"DenyAllOutBound\",\r\n
        \       \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkSecurityGroups/demoSecurityGroup/defaultSecurityRules/DenyAllOutBound\",\r\n
        \       \"etag\": \"W/\\\"8be1c1cc-2986-4641-aae5-e5ba7a9c6ed4\\\"\",\r\n
        \       \"type\": \"Microsoft.Network/networkSecurityGroups/defaultSecurityRules\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"description\": \"Deny all outbound traffic\",\r\n          \"protocol\":
        \"*\",\r\n          \"sourcePortRange\": \"*\",\r\n          \"destinationPortRange\":
        \"*\",\r\n          \"sourceAddressPrefix\": \"*\",\r\n          \"destinationAddressPrefix\":
        \"*\",\r\n          \"access\": \"Deny\",\r\n          \"priority\": 65500,\r\n
        \         \"direction\": \"Outbound\",\r\n          \"sourcePortRanges\":
        [],\r\n          \"destinationPortRanges\": [],\r\n          \"sourceAddressPrefixes\":
        [],\r\n          \"destinationAddressPrefixes\": []\r\n        }\r\n      }\r\n
        \   ],\r\n    \"networkInterfaces\": [\r\n      {\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/networkInterfaces/demoNic0\"\r\n
        \     }\r\n    ],\r\n    \"subnets\": [\r\n      {\r\n        \"id\": \"/subscriptions/AZURE_STACK_SUBSCRIPTION/resourceGroups/demo-resource-group/providers/Microsoft.Network/virtualNetworks/demoNetwork/subnets/demoSubnet\"\r\n
        \     }\r\n    ]\r\n  }\r\n}"
    http_version: 
  recorded_at: Mon, 07 Oct 2019 05:40:43 GMT
recorded_with: VCR 5.0.0
